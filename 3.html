<!DOCTYPE html>
<html lang="eng">
<head>
	<meta charset="utf-8">
	<title>Documents</title>
</head>
<body>
<script type="text/javascript">

	function Student(fname, lname, pname, email){
		this.fname = fname || "";
		this.lname = lname || "";
		this.pname = pname || "";
		this.email = email || "";
		this.contactPhone = {
				country: "",
				region: "",
				number: "",
		};

		this.averageRating = 0;  
		this.marks = []; 
		function calcAverageRating(arrMarks){
			return Math.round (arrMarks.reduce(function(a,b) {
				return a + b;
			}) / arrMarks.length);
		};
		this.addMark = ( mark ) => {
			this.marks.push(mark);
			this.averageRating = calcAverageRating(this.marks);
		};
		this.removeMark = ( index ) => {
			this.marks.splice(index,1);
			this.averageRating = calcAverageRating(this.marks);
		};
		this.updateMark = ( mark, index ) => {
			this.marks.splice(index,1,mark);
			this.averageRating = calcAverageRating(this.marks);
		} ;

		this.setPhone = (phone) => {
			this.contactPhone.country = phone.country;
			this.contactPhone.region = phone.region;
			this.contactPhone.number = phone.number;
		};
		this.setMail = () => {this.email = prompt ("New email: ")} 
  		this.setName = () => {
  			this.fname = prompt ("New fname: ");
  			this.lname = prompt ("New lname: ");
  			this.pname = prompt ("New pname: ");
  		};
  		this.printStudent = () => {
  			var student = "ФИО студента: " + this.fname + " " + this.lname + " " + this.pname + ", контактный телефон: +" + this.contactPhone.country + "-" + this.contactPhone.region + "-" + this.contactPhone.number + ", email: " + this.email + ", средний бал: " + this.averageRating;
  			return student;
		};
	};


var student1 = new Student('Petrov', 'Ivan', 'Vasilyevich', 'petrov@mail.ru');

student1.addMark(5);
student1.addMark(3);
student1.removeMark(1);
student1.updateMark(2,1);
//student1.setMail();
//student1.setName();
student1.setPhone({country: 7, region: 495, number: "333-33-33"});
console.log(student1.printStudent());

</script>
</body>
</html>

